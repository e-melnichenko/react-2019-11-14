{"version":3,"sources":["components/restaurants-navigation/restaurants-navigation.module.css","components/header/logo/logo.svg","components/header/header.module.css","components/hero/hero-banner.jpg","components/restaurant/restaurant.module.css","components/cart/cart.module.css","components/cart/cart-row/cart-row.module.css","components/success-order/success-order.module.css","components/header/logo/index.js","store/selectors/index.js","components/cart-badge/cart-badge.js","components/header/header.js","store/common.js","store/reducers/restaurants.js","store/utils.js","store/reducers/dishes.js","store/reducers/users.js","store/reducers/reviews.js","store/reducers/index.js","store/reducers/count.js","store/reducers/cart.js","store/middlewares/api.js","store/index.js","store/middlewares/generate-id.js","store/middlewares/provide-user-id.js","store/middlewares/logging.js","store/action-creators/index.js","components/dish/dish.js","components/loader/loader.js","components/dishes/dishes.js","components/average-rating/average-rating.js","components/reviews/review/review.js","custom-hooks/use-input.js","components/review-form/review-form.js","components/reviews/reviews.js","components/hero/hero.js","components/cart/cart-row/index.js","components/cart/cart-item/index.js","components/cart/cart.js","components/restaurant/restaurant.js","components/restaurants-navigation/restaurants-navigation.js","components/restaurants/restaurants.js","routes/restaurant-page.js","components/counter/counter.js","routes/counter-page.js","components/order/order-item/index.js","components/order/order.js","routes/order-page.js","components/success-order/success-order.js","components/app/app.js","index.js","components/dish/dish.module.css","components/review-form/review-form.module.css","components/hero/hero.module.css","components/cart/cart-item/cart-item.module.css","components/reviews/review/review.module.css"],"names":["module","exports","Logo","href","src","LogoImg","alt","selectId","state","ownProps","id","selectCart","cart","selectRestaurants","restaurants","entities","selectRestaurantsLoading","loading","selectRestaurantsLoaded","loaded","selectDishesMap","dishes","selectDishesLoading","selectDishesLoaded","selectReviewsMap","createSelector","reviews","get","reviewsImmutable","toJS","selectReviewsLoading","selectReviewsLoaded","selectUsersMap","users","selectUsersLoading","selectUsersLoaded","selectUserList","usersMap","Object","values","selectOrderedDishes","dishesMap","reduce","result","restaurant","menu","forEach","dishId","amount","dish","totalDishPrice","price","totalPrice","push","selectUser","selectReviews","find","item","length","map","reviewId","selectAverageRating","rawRating","acc","rating","Math","floor","CartBadge","props","count","totalAmount","className","icon","size","type","defaultProps","connect","Header","styles","header","START","SUCCESS","FAIL","initialState","error","arrayToMap","arr","fromJS","reducer","combineReducers","countState","action","cartState","payload","restaurantsState","produce","draft","restaurantId","generatedId","FETCH_RESTAURANTS","response","dishesState","FETCH_DISHES","usersState","userId","name","userName","FETCH_USERS","reviewsState","setIn","text","FETCH_REVIEWS","set","enhancer","composeWithDevTools","applyMiddleware","thunk","store","next","callAPI","rest","dispatch","fetch","then","res","json","catch","e","generateId","uuid","provideUserId","user","getState","console","log","createStore","window","addToCart","removeFromCart","PropTypes","string","shape","isRequired","ingredients","arrayOf","number","mapDispatchToProps","increase","decrease","useSelector","data-automation-id","productDetailedOrderCard","justify","xs","md","lg","align","Title","level","title","Paragraph","description","join","counter","Group","button","onClick","Loader","style","textAlign","Dishes","this","fetchDishes","dishesLoading","dishesLoaded","key","Component","AverageRating","reviewsLoaded","normalizedRating","value","disabled","allowHalf","review","Text","comment","rateColumn","nonEmpty","initialValue","validate","useState","setState","handleChange","ev","target","ReviewForm","setRating","useInput","setName","isValidName","resetName","setText","isValidText","resetText","useDispatch","handleNameChange","handleTextChange","handleRatingChange","reviewForm","addReviewTitle","onSubmit","preventDefault","addReview","onChange","placeholder","cx","invalid","inputName","TextArea","rows","htmlType","submitButton","Reviews","reviewLoaded","reviewLoading","usersLoaded","usersLoading","fetchReviews","fetchUsers","gutter","sm","ReviewsPropTypes","Review","propTypes","Hero","img","DefaultHeroImg","heading","children","hero","heroImg","heroCaption","colorWhite","CartRow","leftContent","rightContent","cartRow","span","increment","decrement","cartItem","orderedDishes","TransitionGroup","CSSTransition","timeout","classNames","block","to","Restaurant","errorInfo","restaurantContent","RestaurantsNavigation","list","activeClassName","activeLink","fetchRestaurants","restaurantsLoading","restaurantsLoaded","useEffect","RestaurantPage","path","render","match","params","Counter","decrementFromDispatch","incrementFromDispatch","padding","CounterPage","OrderItem","resetCart","orderedDish","offset","OrderPage","component","Order","SuccessOrder","App","Content","exact","strict","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.bf7114cf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"restaurants-navigation_list__1uN_p\",\"restaurant\":\"restaurants-navigation_restaurant__1F4Sj\",\"active\":\"restaurants-navigation_active__3R6Yd\",\"activeLink\":\"restaurants-navigation_activeLink__FosrH\"};","module.exports = __webpack_public_path__ + \"static/media/logo.cffb3093.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1MqVT\"};","module.exports = __webpack_public_path__ + \"static/media/hero-banner.f18dca13.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"restaurantContent\":\"restaurant_restaurantContent__5MWP6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"cart_cart__2ULaa\",\"title\":\"cart_title__3nIse\",\"lastRow\":\"cart_lastRow__1u8HI\",\"isFlexbox\":\"cart_isFlexbox__gsNbV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartRow\":\"cart-row_cartRow__3DstB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"success-order_title__ci1FB\"};","import React from 'react'\r\n\r\nimport LogoImg from './logo.svg'\r\n\r\nfunction Logo() {\r\n  return (\r\n    <a href={'/'}>\r\n      <img src={LogoImg} alt=\"logo\" />\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default Logo\r\n","import {createSelector} from 'reselect'\r\n\r\nexport const selectId = (state, ownProps) => ownProps.id\r\n\r\nexport const selectCart = state => state.cart\r\n\r\nexport const selectRestaurants = state => state.restaurants.entities\r\n\r\nexport const selectRestaurantsLoading = state => state.restaurants.loading\r\n\r\nexport const selectRestaurantsLoaded = state => state.restaurants.loaded\r\n\r\nexport const selectDishesMap = state => state.dishes.entities\r\n\r\nexport const selectDishesLoading = state => state.dishes.loading\r\n\r\nexport const selectDishesLoaded = state => state.dishes.loaded\r\n\r\nexport const selectReviewsImmutable = state => state.reviews.get('entities')\r\n\r\nexport const selectReviewsMap = createSelector(\r\n  selectReviewsImmutable,\r\n  reviewsImmutable => reviewsImmutable.toJS()\r\n)\r\n\r\nexport const selectReviewsLoading = state => state.reviews.get('loading')\r\n\r\nexport const selectReviewsLoaded = state => state.reviews.get('loaded')\r\n\r\nexport const selectUsersMap = state => state.users.entities\r\n\r\nexport const selectUsersLoading = state => state.users.loading\r\n\r\nexport const selectUsersLoaded = state => state.users.loaded\r\n\r\nexport const selectUserList = createSelector(\r\n  selectUsersMap,\r\n  usersMap => Object.values(usersMap)\r\n)\r\n\r\nexport const selectDishes = createSelector(\r\n  selectDishesMap,\r\n  dishesMap => Object.values(dishesMap.entities)\r\n)\r\n\r\nexport const selectOrderedDishes = createSelector(\r\n  selectRestaurants,\r\n  selectCart,\r\n  selectDishesMap,\r\n  (restaurants, cart, dishes) =>\r\n    restaurants.reduce(\r\n      (result, restaurant) => {\r\n        restaurant.menu.forEach(dishId => {\r\n          const amount = cart[dishId]\r\n          const dish = dishes[dishId]\r\n          if (amount) {\r\n            const totalDishPrice = amount * dish.price\r\n            result.totalPrice += totalDishPrice\r\n            result.dishes.push({\r\n              dish,\r\n              amount,\r\n              totalDishPrice,\r\n            })\r\n          }\r\n        })\r\n        return result\r\n      },\r\n      {\r\n        dishes: [],\r\n        totalPrice: 0,\r\n      }\r\n    )\r\n)\r\n\r\nexport const selectUser = createSelector(\r\n  selectUsersMap,\r\n  selectId,\r\n  (users, id) => {\r\n    return users[id]\r\n  }\r\n)\r\n\r\nexport const selectReviews = createSelector(\r\n  selectReviewsMap,\r\n  selectRestaurants,\r\n  selectId,\r\n  (reviews, restaurants, id) => {\r\n    const restaurant = restaurants.find(item => item.id === id)\r\n\r\n    return restaurant && Object.values(reviews).length > 0\r\n      ? restaurant.reviews.map(reviewId => reviews[reviewId])\r\n      : []\r\n  }\r\n)\r\n\r\nexport const selectAverageRating = createSelector(\r\n  selectReviews,\r\n  reviews => {\r\n    const rawRating =\r\n      reviews.reduce((acc, {rating}) => {\r\n        return acc + rating\r\n      }, 0) / reviews.length\r\n    return Math.floor(rawRating * 2) / 2\r\n  }\r\n)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Badge, Button} from 'antd'\r\nimport './cart-badge.css'\r\nimport {connect} from 'react-redux'\r\nimport {selectCart} from '../../store/selectors'\r\n\r\nfunction CartBadge(props) {\r\n  return (\r\n    <Badge count={props.totalAmount} className={'cart-button-container'}>\r\n      <Button\r\n        icon=\"shopping-cart\"\r\n        size=\"large\"\r\n        type=\"primary\"\r\n        className=\"cart-button\"\r\n      />\r\n    </Badge>\r\n  )\r\n}\r\n\r\nCartBadge.defaultProps = {\r\n  totalAmount: 0,\r\n}\r\n\r\nCartBadge.propTypes = {\r\n  totalAmount: PropTypes.number.isRequired,\r\n}\r\n\r\nexport default connect(state => {\r\n  return {\r\n    totalAmount: Object.values(selectCart(state)).reduce(\r\n      (acc, amount) => acc + amount,\r\n      0\r\n    ),\r\n  }\r\n})(CartBadge)\r\n","import React from 'react'\r\n\r\nimport Logo from './logo'\r\nimport styles from './header.module.css'\r\nimport CartBadge from '../cart-badge'\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className={styles.header}>\r\n      <Logo />\r\n      <CartBadge />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","export const START = '_START'\r\n\r\nexport const SUCCESS = '_SUCCESS'\r\n\r\nexport const FAIL = '_FAIL'\r\n\r\nexport const INCREMENT = 'INCREMENT'\r\n\r\nexport const DECREMENT = 'DECREMENT'\r\n\r\nexport const ADD_TO_CART = 'ADD_TO_CART'\r\n\r\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART'\r\n\r\nexport const ADD_REVIEW = 'ADD_REVIEW'\r\n\r\nexport const FETCH_RESTAURANTS = 'FETCH_RESTAURANTS'\r\n\r\nexport const FETCH_DISHES = 'FETCH_DISHES'\r\n\r\nexport const FETCH_REVIEWS = 'FETCH_REVIEWS'\r\n\r\nexport const FETCH_USERS = 'FETCH_USERS'\r\n\r\nexport const RESET_CART = 'RESET_CART'\r\n","import {produce} from 'immer'\r\nimport {ADD_REVIEW, FAIL, FETCH_RESTAURANTS, START, SUCCESS} from '../common'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  loaded: false,\r\n  error: null,\r\n  entities: [],\r\n}\r\n\r\nexport const restaurantsReducer = (restaurantsState = initialState, action) =>\r\n  produce(restaurantsState, draft => {\r\n    switch (action.type) {\r\n      case ADD_REVIEW: {\r\n        const targetRestaurant = draft.entities.find(\r\n          restaurant => restaurant.id === action.payload.restaurantId\r\n        )\r\n        targetRestaurant.reviews.push(action.generatedId)\r\n        break\r\n      }\r\n      case FETCH_RESTAURANTS + START: {\r\n        draft.loading = true\r\n        break\r\n      }\r\n      case FETCH_RESTAURANTS + SUCCESS: {\r\n        draft.loading = false\r\n        draft.loaded = true\r\n        draft.error = null\r\n        draft.entities = action.response\r\n        break\r\n      }\r\n      case FETCH_RESTAURANTS + FAIL: {\r\n        draft.loading = false\r\n        draft.loaded = false\r\n        draft.error = action.error\r\n        break\r\n      }\r\n      default:\r\n        return\r\n    }\r\n  })\r\n","export const arrayToMap = arr =>\r\n  arr.reduce((map, item) => {\r\n    return {\r\n      ...map,\r\n      [item.id]: item,\r\n    }\r\n  }, {})\r\n","import {arrayToMap} from '../utils'\r\nimport {FAIL, FETCH_DISHES, START, SUCCESS} from '../common'\r\nimport produce from 'immer'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  loaded: false,\r\n  error: null,\r\n  entities: {},\r\n}\r\n\r\nexport const dishesReducer = (dishesState = initialState, action) =>\r\n  produce(dishesState, draft => {\r\n    switch (action.type) {\r\n      case FETCH_DISHES + START: {\r\n        draft.loading = true\r\n        break\r\n      }\r\n      case FETCH_DISHES + SUCCESS: {\r\n        draft.loading = false\r\n        draft.loaded = true\r\n        draft.error = null\r\n        draft.entities = arrayToMap(action.response)\r\n        break\r\n      }\r\n      case FETCH_DISHES + FAIL: {\r\n        draft.loading = false\r\n        draft.loaded = false\r\n        draft.error = action.error\r\n        break\r\n      }\r\n      default:\r\n        return\r\n    }\r\n  })\r\n","import {arrayToMap} from '../utils'\r\nimport {ADD_REVIEW, FAIL, FETCH_USERS, START, SUCCESS} from '../common'\r\nimport produce from 'immer'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  loaded: false,\r\n  error: null,\r\n  entities: {},\r\n}\r\n\r\nexport const usersReducer = (usersState = initialState, action) =>\r\n  produce(usersState, draft => {\r\n    switch (action.type) {\r\n      case ADD_REVIEW: {\r\n        if (!draft.entities[action.userId]) {\r\n          draft.entities[action.userId] = {\r\n            id: action.userId,\r\n            name: action.payload.userName,\r\n          }\r\n        }\r\n        break\r\n      }\r\n      case FETCH_USERS + START: {\r\n        draft.loading = true\r\n        break\r\n      }\r\n      case FETCH_USERS + SUCCESS: {\r\n        draft.loading = false\r\n        draft.loaded = true\r\n        draft.error = null\r\n        draft.entities = {\r\n          ...draft.entities,\r\n          ...arrayToMap(action.response),\r\n        }\r\n        break\r\n      }\r\n      case FETCH_USERS + FAIL: {\r\n        draft.loading = false\r\n        draft.loaded = false\r\n        draft.error = action.error\r\n        break\r\n      }\r\n      default:\r\n        return\r\n    }\r\n  })\r\n","import {ADD_REVIEW, FAIL, FETCH_REVIEWS, START, SUCCESS} from '../common'\r\nimport {fromJS} from 'immutable'\r\nimport {arrayToMap} from '../utils'\r\n\r\nconst initialState = fromJS({\r\n  loading: false,\r\n  loaded: false,\r\n  error: null,\r\n  entities: {},\r\n})\r\n\r\nexport const reviewsReducer = (reviewsState = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_REVIEW: {\r\n      return reviewsState.setIn(\r\n        ['entities', action.generatedId],\r\n        fromJS({\r\n          id: action.generatedId,\r\n          userId: action.userId,\r\n          text: action.payload.text,\r\n          rating: action.payload.rating,\r\n        })\r\n      )\r\n    }\r\n    case FETCH_REVIEWS + START: {\r\n      return reviewsState.set('loading', true)\r\n    }\r\n    case FETCH_REVIEWS + SUCCESS: {\r\n      return reviewsState\r\n        .set('loading', false)\r\n        .set('loaded', true)\r\n        .set('error', null)\r\n        .set('entities', fromJS(arrayToMap(action.response)))\r\n    }\r\n    case FETCH_REVIEWS + FAIL: {\r\n      return reviewsState\r\n        .set('loading', false)\r\n        .set('loaded', false)\r\n        .set('error', action.error)\r\n    }\r\n    default:\r\n      return reviewsState\r\n  }\r\n}\r\n","import {combineReducers} from 'redux'\r\nimport {countReducer} from './count'\r\nimport {restaurantsReducer} from './restaurants'\r\nimport {cartReducer} from './cart'\r\nimport {dishesReducer} from './dishes'\r\nimport {usersReducer} from './users'\r\nimport {reviewsReducer} from './reviews'\r\n\r\nexport const reducer = combineReducers({\r\n  count: countReducer,\r\n  cart: cartReducer,\r\n  restaurants: restaurantsReducer,\r\n  dishes: dishesReducer,\r\n  users: usersReducer,\r\n  reviews: reviewsReducer,\r\n})\r\n","import {DECREMENT, INCREMENT} from '../common'\r\n\r\nexport const countReducer = (countState = 10, action) => {\r\n  switch (action.type) {\r\n    case INCREMENT: {\r\n      return countState + 1\r\n    }\r\n    case DECREMENT: {\r\n      return countState <= 0 ? 0 : countState - 1\r\n    }\r\n    default: {\r\n      return countState\r\n    }\r\n  }\r\n}\r\n","import {ADD_TO_CART, REMOVE_FROM_CART, RESET_CART} from '../common'\r\n\r\nexport const cartReducer = (\r\n  cartState = {\r\n    //  id: <dish's amount>\r\n  },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ADD_TO_CART: {\r\n      const {id} = action.payload\r\n      return {\r\n        ...cartState,\r\n        [id]: cartState[id] ? cartState[id] + 1 : 1,\r\n      }\r\n    }\r\n    case REMOVE_FROM_CART: {\r\n      const {id} = action.payload\r\n      if (!cartState[id]) {\r\n        return cartState\r\n      }\r\n      return {\r\n        ...cartState,\r\n        [id]: cartState[id] - 1,\r\n      }\r\n    }\r\n    case RESET_CART: {\r\n      return {}\r\n    }\r\n    default: {\r\n      return cartState\r\n    }\r\n  }\r\n}\r\n","import {FAIL, START, SUCCESS} from '../common'\r\n\r\nexport default store => next => action => {\r\n  const {callAPI, ...rest} = action\r\n\r\n  if (!callAPI) {\r\n    return next(rest)\r\n  }\r\n\r\n  store.dispatch({\r\n    ...rest,\r\n    type: action.type + START,\r\n  })\r\n  fetch(callAPI)\r\n    .then(res => res.json())\r\n    .then(res =>\r\n      next({\r\n        ...rest,\r\n        type: action.type + SUCCESS,\r\n        response: res,\r\n      })\r\n    )\r\n    .catch(e => {\r\n      store.dispatch({\r\n        ...rest,\r\n        type: action.type + FAIL,\r\n        error: e,\r\n      })\r\n    })\r\n}\r\n","import {createStore, applyMiddleware} from 'redux'\r\nimport {reducer} from './reducers'\r\nimport {logging} from './middlewares/logging'\r\nimport generateId from './middlewares/generate-id'\r\nimport provideUserId from './middlewares/provide-user-id'\r\nimport api from './middlewares/api'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\n\r\nconst enhancer = composeWithDevTools(\r\n  applyMiddleware(thunk, api, generateId, provideUserId, logging)\r\n)\r\n\r\nexport const store = createStore(reducer, enhancer)\r\n\r\n// ONLY FOR DEV\r\nwindow.store = store\r\n","import uuid from 'uuid/v4'\r\n\r\nexport default store => next => action => {\r\n  const {generateId, ...rest} = action\r\n  if (!generateId) {\r\n    next(rest)\r\n  } else {\r\n    next({\r\n      ...rest,\r\n      generatedId: uuid(),\r\n    })\r\n  }\r\n}\r\n","import uuid from 'uuid/v4'\r\nimport {selectUserList} from '../selectors'\r\n\r\nexport default store => next => action => {\r\n  const {provideUserId, ...rest} = action\r\n  if (!provideUserId) {\r\n    next(rest)\r\n  } else {\r\n    const user = selectUserList(store.getState()).find(\r\n      user => user.name === rest.payload.userName\r\n    )\r\n    next({\r\n      ...rest,\r\n      userId: user ? user.id : uuid(),\r\n    })\r\n  }\r\n}\r\n","export const logging = store => next => action => {\r\n  console.log('BEFORE', store.getState())\r\n  console.log('ACTION', action)\r\n  next(action)\r\n  console.log('AFTER', store.getState())\r\n}\r\n","import {\r\n  ADD_REVIEW,\r\n  ADD_TO_CART,\r\n  DECREMENT,\r\n  FAIL,\r\n  FETCH_DISHES,\r\n  FETCH_RESTAURANTS,\r\n  FETCH_REVIEWS,\r\n  FETCH_USERS,\r\n  INCREMENT,\r\n  REMOVE_FROM_CART,\r\n  START,\r\n  SUCCESS,\r\n  RESET_CART,\r\n} from '../common'\r\n\r\nexport const increment = () => {\r\n  return {\r\n    type: INCREMENT,\r\n  }\r\n}\r\n\r\nexport const decrement = () => {\r\n  return {\r\n    type: DECREMENT,\r\n  }\r\n}\r\n\r\nexport const addToCart = dishId => {\r\n  return {\r\n    type: ADD_TO_CART,\r\n    payload: {\r\n      id: dishId,\r\n    },\r\n  }\r\n}\r\n\r\nexport const removeFromCart = dishId => {\r\n  return {\r\n    type: REMOVE_FROM_CART,\r\n    payload: {\r\n      id: dishId,\r\n    },\r\n  }\r\n}\r\n\r\nexport const addReview = (userName, rating, text, restaurantId) => ({\r\n  type: ADD_REVIEW,\r\n  payload: {\r\n    userName,\r\n    rating,\r\n    text,\r\n    restaurantId,\r\n  },\r\n  generateId: true,\r\n  provideUserId: true,\r\n})\r\n\r\nexport const fetchRestaurants = () => ({\r\n  type: FETCH_RESTAURANTS,\r\n  callAPI: '/api/restaurants',\r\n})\r\n\r\nexport const fetchUsers = () => ({\r\n  type: FETCH_USERS,\r\n  callAPI: '/api/users',\r\n})\r\n\r\nexport const fetchReviews = () => ({\r\n  type: FETCH_REVIEWS,\r\n  callAPI: '/api/reviews',\r\n})\r\n\r\nexport const fetchDishes = () => (dispatch, getState) => {\r\n  dispatch({\r\n    type: FETCH_DISHES + START,\r\n  })\r\n  fetch('/api/dishes')\r\n    .then(res => res.json())\r\n    .then(res =>\r\n      dispatch({\r\n        type: FETCH_DISHES + SUCCESS,\r\n        response: res,\r\n      })\r\n    )\r\n    .catch(error => {\r\n      dispatch({\r\n        type: FETCH_DISHES + FAIL,\r\n        error,\r\n      })\r\n    })\r\n}\r\n\r\nexport const resetCart = () => ({\r\n  type: RESET_CART,\r\n})\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Card, Typography, Button, Row, Col} from 'antd'\r\nimport styles from './dish.module.css'\r\nimport {addToCart, removeFromCart} from '../../store/action-creators'\r\nimport {connect, useSelector} from 'react-redux'\r\nimport {selectDishesMap} from '../../store/selectors'\r\n\r\nfunction Dish(props) {\r\n  const {\r\n    id,\r\n\r\n    // from store\r\n    amount,\r\n    increase,\r\n    decrease,\r\n  } = props\r\n\r\n  const dishes = useSelector(state => selectDishesMap(state))\r\n  const dish = dishes[id]\r\n\r\n  if (!dish) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <Card data-automation-id=\"DISH\" className={styles.productDetailedOrderCard}>\r\n      <Row type=\"flex\" justify=\"space-between\">\r\n        <Col xs={16} md={16} lg={20} align=\"left\">\r\n          <Typography.Title\r\n            level={4}\r\n            className={styles.title}\r\n            data-automation-id=\"DISH_NAME\"\r\n          >\r\n            {dish.name}\r\n          </Typography.Title>\r\n          <Typography.Paragraph className={styles.description}>\r\n            {dish.ingredients.join(', ')}\r\n          </Typography.Paragraph>\r\n          <div className={styles.price}>{dish.price} $</div>\r\n        </Col>\r\n        <Col xs={8} md={6} lg={4} align=\"right\">\r\n          <div className={styles.counter}>\r\n            <div className={styles.count} data-automation-id=\"AMOUNT\">\r\n              {amount}\r\n            </div>\r\n            <Button.Group>\r\n              <Button\r\n                className={styles.button}\r\n                icon=\"minus\"\r\n                onClick={() => decrease(dish.id)}\r\n                data-automation-id=\"DECREASE\"\r\n              />\r\n              <Button\r\n                className={styles.button}\r\n                icon=\"plus\"\r\n                onClick={() => increase(dish.id)}\r\n                data-automation-id=\"INCREASE\"\r\n              />\r\n            </Button.Group>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport const DishPropTypes = {\r\n  id: PropTypes.string,\r\n  dish: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    ingredients: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n  }),\r\n}\r\n\r\nDish.propTypes = DishPropTypes\r\n\r\nconst mapsStateToProps = (state, ownProps) => ({\r\n  amount: state.cart[ownProps.id] || 0,\r\n  dish: state.dishes[ownProps.id],\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  increase: addToCart,\r\n  decrease: removeFromCart,\r\n}\r\n\r\nexport default connect(\r\n  mapsStateToProps,\r\n  mapDispatchToProps\r\n)(Dish)\r\n","import React from 'react'\r\nimport {Spin} from 'antd'\r\n\r\nfunction Loader(props) {\r\n  return (\r\n    <div style={{textAlign: 'center'}}>\r\n      <Spin size={'large'} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import React, {Component} from 'react'\r\nimport Dish from '../dish'\r\nimport PropTypes from 'prop-types'\r\nimport {connect} from 'react-redux'\r\nimport {fetchDishes} from '../../store/action-creators'\r\nimport {selectDishesLoaded, selectDishesLoading} from '../../store/selectors'\r\nimport Loader from '../loader'\r\n\r\nclass Dishes extends Component {\r\n  componentDidMount() {\r\n    const {fetchDishes, dishesLoading, dishesLoaded} = this.props\r\n    if (!dishesLoading && !dishesLoaded) {\r\n      fetchDishes()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {menu, dishesLoading} = this.props\r\n\r\n    if (dishesLoading) {\r\n      return <Loader />\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        {menu.map(dishId => (\r\n          <Dish key={dishId} id={dishId} />\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport const DishesPropTypes = {\r\n  menu: PropTypes.arrayOf(PropTypes.string),\r\n}\r\n\r\nDishes.propTypes = DishesPropTypes\r\n\r\nexport default connect(\r\n  state => ({\r\n    dishesLoading: selectDishesLoading(state),\r\n    dishesLoaded: selectDishesLoaded(state),\r\n  }),\r\n  {\r\n    fetchDishes,\r\n  }\r\n)(Dishes)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {Rate} from 'antd'\r\nimport {useSelector} from 'react-redux'\r\nimport {selectAverageRating, selectReviewsLoaded} from '../../store/selectors'\r\n\r\nfunction AverageRating(props) {\r\n  const reviewsLoaded = useSelector(selectReviewsLoaded)\r\n\r\n  const normalizedRating = useSelector(state =>\r\n    selectAverageRating(state, props)\r\n  )\r\n\r\n  if (!reviewsLoaded) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Rate value={normalizedRating} disabled allowHalf />\r\n    </div>\r\n  )\r\n}\r\n\r\nAverageRating.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AverageRating\r\n","import React from 'react'\r\nimport {Row, Col, Typography, Rate, Card} from 'antd'\r\nimport styles from './review.module.css'\r\nimport PropTypes from 'prop-types'\r\nimport {selectUser} from '../../../store/selectors'\r\nimport {connect} from 'react-redux'\r\n\r\nconst Review = ({review, user}) => (\r\n  <Card className={styles.review}>\r\n    <Row type=\"flex\" align=\"middle\">\r\n      <Col xs={24} md={16} align=\"left\">\r\n        <Typography.Title className={styles.name} level={4}>\r\n          {user.name}\r\n        </Typography.Title>\r\n        <Typography.Text className={styles.comment}>\r\n          {review.text}\r\n        </Typography.Text>\r\n      </Col>\r\n      <Col xs={8} md={8} align=\"right\" className={styles.rateColumn}>\r\n        <Rate disabled value={review.rating} />\r\n      </Col>\r\n    </Row>\r\n  </Card>\r\n)\r\n\r\nexport const ReviewPropTypes = {\r\n  userId: PropTypes.string.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n  rating: PropTypes.number.isRequired,\r\n}\r\n\r\nReview.propTypes = {\r\n  review: PropTypes.shape(ReviewPropTypes),\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  user: selectUser(state, {id: ownProps.review.userId}),\r\n})\r\n\r\nexport default connect(mapStateToProps)(Review)\r\n","import {useState} from 'react'\r\n\r\nconst nonEmpty = value => !!value\r\n\r\nexport default (initialValue = '', validate = nonEmpty) => {\r\n  const [state, setState] = useState(initialValue)\r\n\r\n  const handleChange = ev => setState(ev.target.value)\r\n\r\n  return [state, handleChange, validate(state), () => setState('')]\r\n}\r\n","import {Button, Card, Col, Form, Input, Row, Typography, Rate} from 'antd'\r\nimport React, {useState} from 'react'\r\nimport useInput from '../../custom-hooks/use-input'\r\nimport cx from 'classnames'\r\n\r\nimport styles from './review-form.module.css'\r\nimport {useDispatch} from 'react-redux'\r\nimport {addReview} from '../../store/action-creators'\r\n\r\nconst ReviewForm = ({id}) => {\r\n  const [rating, setRating] = useState(0)\r\n  const [name, setName, isValidName, resetName] = useInput()\r\n  const [text, setText, isValidText, resetText] = useInput()\r\n  const dispatch = useDispatch()\r\n\r\n  const resetForm = () => {\r\n    resetName()\r\n    resetText()\r\n    setRating(null)\r\n  }\r\n  const handleSubmit = ev => {\r\n    ev.preventDefault()\r\n    dispatch(addReview(name, +rating, text, id))\r\n    resetForm()\r\n  }\r\n\r\n  const handleNameChange = setName\r\n\r\n  const handleTextChange = setText\r\n\r\n  const handleRatingChange = setRating\r\n\r\n  return (\r\n    <Card className={styles.reviewForm}>\r\n      <Row type=\"flex\" align=\"middle\">\r\n        <Col xs={24} md={18} align=\"left\">\r\n          <Typography.Title className={styles.addReviewTitle} level={4}>\r\n            Leave your review\r\n          </Typography.Title>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Input\r\n              value={name}\r\n              onChange={handleNameChange}\r\n              placeholder=\"Your name\"\r\n              className={cx(\r\n                {\r\n                  [styles.invalid]: !isValidName,\r\n                },\r\n                styles.inputName\r\n              )}\r\n            />\r\n            <Input.TextArea\r\n              value={text}\r\n              onChange={handleTextChange}\r\n              rows={3}\r\n              size=\"large\"\r\n              className={cx({\r\n                [styles.invalid]: !isValidText,\r\n              })}\r\n            />\r\n            <div>\r\n              Rating: <Rate value={rating} onChange={handleRatingChange} />\r\n            </div>\r\n            <Button htmlType=\"submit\" className={styles.submitButton}>\r\n              PUBLISH REVIEW\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default ReviewForm\r\n","import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Review from './review'\r\nimport {Col, Row} from 'antd'\r\nimport ReviewForm from '../review-form'\r\nimport {connect} from 'react-redux'\r\nimport {\r\n  selectReviews,\r\n  selectReviewsLoaded,\r\n  selectReviewsLoading,\r\n  selectUsersLoaded,\r\n  selectUsersLoading,\r\n} from '../../store/selectors'\r\nimport {fetchUsers, fetchReviews} from '../../store/action-creators'\r\nimport Loader from '../loader'\r\n\r\nclass Reviews extends Component {\r\n  static defaultProps = {\r\n    reviews: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      reviewLoaded,\r\n      reviewLoading,\r\n      usersLoaded,\r\n      usersLoading,\r\n      fetchReviews,\r\n      fetchUsers,\r\n    } = this.props\r\n\r\n    if (!usersLoaded && !usersLoading) {\r\n      fetchUsers()\r\n    }\r\n\r\n    if (!reviewLoaded && !reviewLoading) {\r\n      fetchReviews()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {reviews, reviewLoading, usersLoading, id} = this.props\r\n\r\n    if (usersLoading || reviewLoading) {\r\n      return <Loader />\r\n    }\r\n\r\n    return (\r\n      <Row type=\"flex\" justify=\"center\" gutter={{xs: 8, sm: 16, md: 24}}>\r\n        <Col xs={24} md={16}>\r\n          {reviews.map(review => (\r\n            <Review review={review} key={review.id} />\r\n          ))}\r\n          <ReviewForm id={id} />\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\nexport const ReviewsPropTypes = {\r\n  id: PropTypes.string,\r\n}\r\n\r\nReview.propTypes = ReviewsPropTypes\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    reviews: selectReviews(state, ownProps),\r\n    reviewLoaded: selectReviewsLoaded(state),\r\n    reviewLoading: selectReviewsLoading(state),\r\n    usersLoaded: selectUsersLoaded(state),\r\n    usersLoading: selectUsersLoading(state),\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  fetchReviews,\r\n  fetchUsers,\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Reviews)\r\n","import React from 'react'\r\n\r\nimport DefaultHeroImg from './hero-banner.jpg'\r\nimport styles from './hero.module.css'\r\nimport {Typography} from 'antd'\r\n\r\nfunction Hero({img = DefaultHeroImg, heading, description, children}) {\r\n  return (\r\n    <div className={styles.hero}>\r\n      <img src={img} className={styles.heroImg} alt=\"hero-banner\" />\r\n      <div className={styles.heroCaption}>\r\n        <Typography.Title\r\n          data-automation-id=\"RESTAURANT_NAME\"\r\n          level={2}\r\n          className={styles.heading}\r\n        >\r\n          {heading}\r\n        </Typography.Title>\r\n        <Typography.Text className={styles.description}>\r\n          {description}\r\n        </Typography.Text>\r\n        <div className={styles.colorWhite}>{children}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Hero\r\n","import {Col, Row, Typography} from 'antd'\r\nimport React from 'react'\r\n\r\nimport styles from './cart-row.module.css'\r\n\r\nfunction CartRow({align = 'top', leftContent, rightContent}) {\r\n  return (\r\n    <Row type=\"flex\" align={align} className={styles.cartRow}>\r\n      <Col span={12} align=\"left\">\r\n        <Typography.Text>{leftContent}</Typography.Text>\r\n      </Col>\r\n      <Col span={12} align=\"right\">\r\n        <Typography.Text>{rightContent}</Typography.Text>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default CartRow\r\n","import React from 'react'\r\nimport {Button, Col, Row, Typography} from 'antd'\r\nimport {addToCart, removeFromCart} from '../../../store/action-creators'\r\nimport styles from './cart-item.module.css'\r\nimport {connect} from 'react-redux'\r\n\r\nfunction CartItem({dish, amount, increment, decrement}) {\r\n  return (\r\n    <Row type=\"flex\" align=\"middle\" className={styles.cartItem}>\r\n      <Col span={12} align=\"left\">\r\n        <Typography.Text>{dish.name}</Typography.Text>\r\n      </Col>\r\n      <Col span={12} align=\"right\">\r\n        <Typography.Text>{dish.price * amount} $</Typography.Text>\r\n        <div className={styles.counter}>\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            className={styles.button}\r\n            icon=\"minus\"\r\n            onClick={() => decrement(dish.id)}\r\n          />\r\n          <Typography.Text className={styles.count}>{amount}</Typography.Text>\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            className={styles.button}\r\n            icon=\"plus\"\r\n            onClick={() => increment(dish.id)}\r\n          />\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  {\r\n    increment: addToCart,\r\n    decrement: removeFromCart,\r\n  }\r\n)(CartItem)\r\n","import Button from 'antd/es/button'\r\nimport cx from 'classnames'\r\nimport React from 'react'\r\nimport {TransitionGroup, CSSTransition} from 'react-transition-group'\r\n\r\nimport styles from './cart.module.css'\r\nimport CartRow from './cart-row'\r\nimport CartItem from './cart-item'\r\nimport {connect} from 'react-redux'\r\nimport './cart.css'\r\nimport {selectOrderedDishes} from '../../store/selectors'\r\nimport {Link} from 'react-router-dom'\r\nfunction Cart({className, orderedDishes}) {\r\n  const {dishes, totalPrice} = orderedDishes\r\n  if (dishes.length === 0) {\r\n    return null\r\n  }\r\n  console.log('Cart render')\r\n  return (\r\n    <div className={cx(styles.cart, className)}>\r\n      <TransitionGroup>\r\n        {dishes.map(({dish, amount, restaurant}) => (\r\n          <CSSTransition\r\n            timeout={500}\r\n            classNames=\"cart-item-animation\"\r\n            key={dish.id}\r\n          >\r\n            <CartItem\r\n              dish={dish}\r\n              amount={amount}\r\n              restaurant={restaurant}\r\n              key={dish.id}\r\n            />\r\n          </CSSTransition>\r\n        ))}\r\n      </TransitionGroup>\r\n      <hr />\r\n\r\n      <CartRow leftContent={'Sub-total'} rightContent={`${totalPrice} $`} />\r\n      <CartRow leftContent={'Delivery costs'} rightContent=\"FREE\" />\r\n      <CartRow leftContent={'Total'} rightContent={`${totalPrice} $`} />\r\n      <Button type=\"primary\" size=\"large\" block>\r\n        <Link to=\"/order\">Order</Link>\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(state => {\r\n  return {\r\n    orderedDishes: selectOrderedDishes(state),\r\n  }\r\n})(Cart)\r\n","import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Dishes from '../dishes'\r\nimport AverageRating from '../average-rating'\r\nimport Reviews from '../reviews'\r\nimport Hero from '../hero'\r\nimport styles from './restaurant.module.css'\r\nimport {Col, Row} from 'antd'\r\nimport Cart from '../cart'\r\n\r\nclass Restaurant extends Component {\r\n  state = {\r\n    error: null,\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    this.setState({error})\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.restaurant) {\r\n      return null\r\n    }\r\n    const {\r\n      restaurant: {id, name, menu},\r\n    } = this.props\r\n    return (\r\n      <div>\r\n        <Hero heading={name}>\r\n          {this.state.error ? null : <AverageRating id={id} />}\r\n        </Hero>\r\n        <Row>\r\n          <Col span={18} className={styles.restaurantContent}>\r\n            <Reviews id={id} />\r\n            <Dishes menu={menu} />\r\n          </Col>\r\n          <Col span={6}>\r\n            <Cart />\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nRestaurant.propTypes = {\r\n  restaurant: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    menu: PropTypes.array,\r\n  }),\r\n}\r\n\r\nexport default Restaurant\r\n","import React, {Component} from 'react'\r\nimport styles from './restaurants-navigation.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nclass RestaurantsNavigation extends Component {\r\n  render() {\r\n    const {restaurants} = this.props\r\n    return (\r\n      <div className={styles.list}>\r\n        {restaurants.map(({id, name}) => (\r\n          <NavLink\r\n            className={styles.restaurant}\r\n            key={id}\r\n            data-automation-id={`RESTAURANT_NAVIGATION_${id}`}\r\n            to={`/restaurant/${id}`}\r\n            activeClassName={styles.activeLink}\r\n          >\r\n            {name}\r\n          </NavLink>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RestaurantsNavigation\r\n","import React, {useEffect} from 'react'\r\nimport Restaurant from '../restaurant'\r\nimport RestaurantsNavigation from '../restaurants-navigation'\r\nimport {connect} from 'react-redux'\r\nimport {\r\n  selectRestaurants,\r\n  selectRestaurantsLoaded,\r\n  selectRestaurantsLoading,\r\n} from '../../store/selectors'\r\nimport {fetchRestaurants} from '../../store/action-creators'\r\nimport Loader from '../loader'\r\n\r\nfunction Restaurants({\r\n  restaurantId,\r\n  restaurants,\r\n  restaurantsLoading,\r\n  restaurantsLoaded,\r\n  fetchRestaurants,\r\n}) {\r\n  useEffect(() => {\r\n    !restaurantsLoading && !restaurantsLoaded && fetchRestaurants()\r\n  }, [fetchRestaurants, restaurantsLoading, restaurantsLoaded])\r\n\r\n  if (restaurantsLoading) {\r\n    return <Loader />\r\n  }\r\n\r\n  const restaurant = restaurants.find(\r\n    restaurant => restaurant.id === restaurantId\r\n  )\r\n\r\n  return (\r\n    <div data-automation-id=\"RESTAURANTS\">\r\n      <RestaurantsNavigation restaurants={restaurants} />\r\n      <Restaurant restaurant={restaurant} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  restaurants: selectRestaurants(state),\r\n  restaurantsLoading: selectRestaurantsLoading(state),\r\n  restaurantsLoaded: selectRestaurantsLoaded(state),\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  fetchRestaurants,\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Restaurants)\r\n","import React from 'react'\r\nimport {Route, Switch} from 'react-router-dom'\r\nimport Restaurants from '../components/restaurants/restaurants'\r\n\r\nfunction RestaurantPage() {\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        path=\"/restaurant/:id\"\r\n        render={({match}) => <Restaurants restaurantId={match.params.id} />}\r\n      />\r\n      <Route\r\n        path=\"/restaurant\"\r\n        render={() => (\r\n          <Restaurants restaurantId=\"bb8afbec-2fec-491f-93e9-7f13950dd80b\" />\r\n        )}\r\n      />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default RestaurantPage\r\n","import React, {Component} from 'react'\r\nimport {Button} from 'antd'\r\nimport {connect} from 'react-redux'\r\nimport {decrement, increment} from '../../store/action-creators'\r\n\r\nclass Counter extends Component {\r\n  render() {\r\n    console.log('Counter render')\r\n    return (\r\n      <div>\r\n        <span style={{padding: '16px'}}>{this.props.count}</span>\r\n        <Button.Group>\r\n          <Button onClick={this.decrease} type=\"primary\" icon=\"minus\" />\r\n          <Button onClick={this.increase} type=\"primary\" icon=\"plus\" />\r\n        </Button.Group>\r\n      </div>\r\n    )\r\n  }\r\n  decrease = () => {\r\n    this.props.decrementFromDispatch()\r\n  }\r\n  increase = () => {\r\n    this.props.incrementFromDispatch()\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    count: state.count,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  incrementFromDispatch: increment,\r\n  decrementFromDispatch: decrement,\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Counter)\r\n","import React from 'react'\r\nimport Counter from '../components/counter'\r\n\r\nfunction CounterPage(props) {\r\n  return (\r\n    <div>\r\n      <Counter />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CounterPage\r\n","import React from 'react'\r\nimport {Row, Col} from 'antd'\r\n\r\nfunction OrderItem(props) {\r\n  const {amount, name, price, totalDishPrice} = props\r\n  return (\r\n    <Row>\r\n      <Col span={6}>{name}</Col>\r\n      <Col span={6}>{price}</Col>\r\n      <Col span={6}>{amount}</Col>\r\n      <Col span={6}>{totalDishPrice}</Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default OrderItem\r\n","import React from 'react'\r\nimport {Typography, Row, Col, Button} from 'antd'\r\nimport {connect} from 'react-redux'\r\nimport {selectOrderedDishes} from '../../store/selectors'\r\nimport OrderItem from './order-item'\r\nimport {Link} from 'react-router-dom'\r\nimport {resetCart} from '../../store/action-creators'\r\n\r\nfunction Order(props) {\r\n  const {dishes, totalPrice} = props.orderedDishes\r\n  const {resetCart} = props\r\n  return (\r\n    <div>\r\n      <Typography.Title>Ваш заказ</Typography.Title>\r\n      <Row>\r\n        <Col span={6}>Name</Col>\r\n        <Col span={6}>Price</Col>\r\n        <Col span={6}>Amount</Col>\r\n        <Col span={6}>TotalPrice</Col>\r\n      </Row>\r\n      {dishes.map(orderedDish => (\r\n        <OrderItem\r\n          key={orderedDish.dish.id}\r\n          amount={orderedDish.amount}\r\n          name={orderedDish.dish.name}\r\n          price={orderedDish.dish.price}\r\n          totalDishPrice={orderedDish.totalDishPrice}\r\n        />\r\n      ))}\r\n      <Row>\r\n        <Col span={6} offset={18}>\r\n          {totalPrice}\r\n        </Col>\r\n      </Row>\r\n      <Button type=\"primary\" onClick={() => resetCart()}>\r\n        <Link to=\"/success_order\">order</Link>\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\nconst mapStateToProps = state => ({\r\n  orderedDishes: selectOrderedDishes(state),\r\n})\r\nconst mapDispatchToProps = {\r\n  resetCart,\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Order)\r\n","import React from 'react'\r\nimport {Route} from 'react-router-dom'\r\nimport Order from '../components/order'\r\n\r\nfunction OrderPage() {\r\n  return <Route path=\"/order\" component={Order} />\r\n}\r\n\r\nexport default OrderPage\r\n","import React from 'react'\r\nimport {Typography, Button} from 'antd'\r\nimport style from './success-order.module.css'\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction SuccessOrder(props) {\r\n  return (\r\n    <div>\r\n      <Typography.Title className={style.title}>\r\n        Спасибо за ваш заказ!\r\n      </Typography.Title>\r\n      <Button type=\"primary\">\r\n        <Link to=\"/restaurant\">заказать еще</Link>\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SuccessOrder\r\n","import React, {Component} from 'react'\r\nimport {Layout} from 'antd'\r\nimport Header from '../header'\r\nimport './app.css'\r\nimport {store} from '../../store'\r\nimport {Provider} from 'react-redux'\r\nimport {BrowserRouter, Route, Switch} from 'react-router-dom'\r\nimport RestaurantPage from '../../routes/restaurant-page'\r\nimport CounterPage from '../../routes/counter-page'\r\nimport OrderPage from '../../routes/order-page'\r\nimport SuccessOrder from '../success-order'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <BrowserRouter>\r\n          <div>\r\n            <Layout>\r\n              <Header />\r\n              <Layout.Content>\r\n                <Switch>\r\n                  <Route path=\"/counter\" exact strict component={CounterPage} />\r\n                  <Route path=\"/order\" exact component={OrderPage} />\r\n                  <Route path=\"/restaurant\" component={RestaurantPage} />\r\n                  <Route path=\"/success_order\" component={SuccessOrder} />\r\n                  <Route path=\"/\" render={() => <h1>Page not found</h1>} />\r\n                </Switch>\r\n              </Layout.Content>\r\n            </Layout>\r\n          </div>\r\n        </BrowserRouter>\r\n      </Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/app'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"dish_title__3vxZz\",\"description\":\"dish_description__2FbPy\",\"price\":\"dish_price__2WAge\",\"counter\":\"dish_counter__zjqK6\",\"count\":\"dish_count__3CKDg\",\"button\":\"dish_button__1Ejh2\",\"productDetailedOrderCard\":\"dish_productDetailedOrderCard__3M2Xm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewForm\":\"review-form_reviewForm__5GoW3\",\"addReviewTitle\":\"review-form_addReviewTitle__15p3i\",\"inputName\":\"review-form_inputName__2cErQ\",\"submitButton\":\"review-form_submitButton__1paoM\",\"invalid\":\"review-form_invalid__rmAsE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero\":\"hero_hero__2Lygh\",\"heroImg\":\"hero_heroImg__2Ihb8\",\"heroCaption\":\"hero_heroCaption__bPJ9k\",\"heading\":\"hero_heading__31H5j\",\"description\":\"hero_description__ikRDf\",\"colorWhite\":\"hero_colorWhite__2mo3A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartItem\":\"cart-item_cartItem__2w43_\",\"counter\":\"cart-item_counter__1KGn7\",\"count\":\"cart-item_count__36y9K\",\"button\":\"cart-item_button__3ED3-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"review\":\"review_review__2NyXT\",\"addReviewTitle\":\"review_addReviewTitle__1c8Nr\",\"name\":\"review_name__1SNwZ\",\"comment\":\"review_comment__2OlV0\",\"rateColumn\":\"review_rateColumn__2Zvjj\"};"],"sourceRoot":""}